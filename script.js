
const i18n = {
    pt: {
        subtitle: "Desenvolvedor & Consultor Técnico",
        nav_summary: "Resumo",
        nav_experience: "Experiência",
        nav_skills: "Habilidades",
        nav_education: "Formação",
        nav_contact: "Contato",
        location: "Fortaleza, Ceará, Brasil",
        summary_title: "Resumo Profissional",
        summary_intro: "Esta seção apresenta um panorama da minha carreira, destacando a transição de uma sólida trajetória em vendas e atendimento ao cliente para a área de tecnologia. Aqui, você entenderá a fusão de mais de uma década de experiência em soluções personalizadas com a paixão pelo desenvolvimento de software, resultando em uma perspectiva única para a criação de produtos eficientes e centrados no usuário.",
        summary_body: "Profissional em vendas e atendimento ao cliente com mais de uma década de experiência, especializado em fornecer soluções de alta qualidade e personalizadas. Aos 37 anos, trago um histórico comprovado de sucesso em ambientes dinâmicos e orientados para resultados. Comprometido com o desenvolvimento contínuo, possuo sólidos conhecimentos em tecnologia e programação, habilidades que utilizo para melhorar processos e aumentar a eficiência operacional. Busco oportunidades que me permitam crescer tanto profissional quanto pessoalmente, contribuindo para o sucesso da equipe e da empresa.",
        experience_title: "Linha do Tempo da Carreira",
        experience_intro: "Abaixo, você pode explorar minha jornada profissional de forma interativa. A linha do tempo está dividida em duas fases principais: minha carreira consolidada na área técnica e comercial, e minha atual carreira em tecnologia. Clique em cada cargo para expandir e ver os detalhes e responsabilidades. Esta visualização foi projetada para demonstrar a evolução e a amplitude das minhas competências ao longo dos anos.",
        tech_career_title: "Carreira em Tecnologia",
        commercial_career_title: "Carreira Técnica e Comercial",
        skills_title: "Competências",
        skills_intro: "Esta seção oferece uma visão geral das minhas habilidades técnicas e de gestão. O gráfico abaixo agrupa minhas competências por área, proporcionando uma compreensão rápida dos meus pontos fortes. Ele foi criado para ilustrar visualmente a combinação de conhecimentos em desenvolvimento de software com habilidades de liderança e comunicação adquiridas ao longo da minha carreira.",
        education_title: "Formação e Cursos",
        education_intro: "Aqui você encontra meu histórico educacional, desde cursos técnicos fundamentais até as especializações mais recentes em desenvolvimento web e design. A formação está organizada em duas categorias para facilitar a visualização do meu compromisso com o aprendizado contínuo e a adaptação às novas tecnologias.",
        dev_courses_title: "Desenvolvimento e Design (2021 - 2024)",
        tech_courses_title: "Cursos Técnicos (2004 - 2005)",
        contact_title: "Contato",
        contact_intro: "Gostou do que viu? Ficarei feliz em conectar e discutir como minhas habilidades e experiência podem agregar valor à sua equipe ou projeto. Utilize um dos canais abaixo para entrar em contato.",
        tech_experience: [
            { role: 'Desenvolvedor Front-end', company: 'MM Tecnologia', period: 'Março 2024 – Presente', details: ['Desenvolvimento e manutenção de interfaces de usuário com React e Tailwind CSS.', 'Implementação de componentes reutilizáveis e otimização de performance.', 'Consumo de APIs RESTful para integração com serviços de back-end.'] },
            { role: 'Quality Assurance / Frontend Developer', company: 'Joyjet Digital Marketing and Tech Agency', period: 'Junho 2021 – Maio 2024', details: ['Atuação no controle de qualidade de sistemas e desenvolvimento frontend.'] }
        ],
        commercial_experience: [
            { role: 'Venda de Peças e Atendimento ao Cliente', company: 'Silcar', period: 'Março 2018 – Março 2021', details: [] },
            { role: 'Supervisor', company: 'Flank Steak Burguer', period: 'Junho 2017 – Dezembro 2017', details: ['Responsável pela supervisão de delivery, logística, caixa, estoque e compras.'] },
            { role: 'Consultor de Peças', company: 'Newsedan - Mercedes Bens', period: 'Agosto 2015 – Março 2017', details: ['Atuação como consultor de peças, estoquista e comprador.'] },
            { role: 'Consultor Técnico / Chefe de Oficina', company: 'Champion Volvo', period: 'Setembro 2012 – Maio 2015', details: ['Responsável pela consultoria técnica, gestão de estoque, chefia de oficina, compras e garantia.'] },
            { role: 'Consultor Técnico', company: 'Brava Motos', period: 'Maio 2011 – Maio 2012', details: ['Atuação como consultor técnico e estoquista.'] },
            { role: 'Distribuidor / Relacionamento com Cliente', company: 'Limpáx', period: 'Julho 2010 – Abril 2011 e Março 2009 – Outubro 2009', details: ['Distribuição de produtos, contato com clientes e controle de contas.'] },
            { role: 'Técnico de Manutenção', company: 'Fort Segurança', period: 'Março 2010 – Maio 2010', details: ['Montagem, manutenção e monitoramento de computadores.'] },
            { role: 'Administrador de Rede / Manutenção', company: 'Center Line', period: 'Dezembro 2009 – Fevereiro 2010', details: ['Manutenção de computadores e administração da rede.'] },
            { role: 'Operador de Telemarketing / Controle de Qualidade', company: 'Contax', period: 'Janeiro 2008 – Janeiro 2009', details: ['Atuação como operador de telemarketing, agente de retenção e no controle de qualidade.'] }
        ],
        chart_labels: ['Frontend', 'Técnicas', 'Gestão & Vendas', 'Ferramentas'],
        chart_tooltip_skills: {
            'Frontend': 'HTML, CSS, JS, React',
            'Técnicas': 'Consultoria, QA, Hardware, Redes',
            'Gestão & Vendas': 'Liderança, Atendimento ao Cliente',
            'Ferramentas': 'Inglês, Pacote Office'
        }
    },
    en: {
        subtitle: "Developer & Technical Consultant",
        nav_summary: "Summary",
        nav_experience: "Experience",
        nav_skills: "Skills",
        nav_education: "Education",
        nav_contact: "Contact",
        location: "Fortaleza, Ceará, Brazil",
        summary_title: "Professional Summary",
        summary_intro: "This section provides an overview of my career, highlighting the transition from a solid background in sales and customer service to the technology field. Here, you will understand the fusion of over a decade of experience in customized solutions with a passion for software development, resulting in a unique perspective for creating efficient, user-centered products.",
        summary_body: "A sales and customer service professional with over a decade of experience, specializing in providing high-quality, personalized solutions. At 37, I bring a proven track record of success in dynamic, results-oriented environments. Committed to continuous development, I have solid knowledge in technology and programming, skills I use to improve processes and increase operational efficiency. I seek opportunities that allow me to grow both professionally and personally, contributing significantly to the success of the team and the company.",
        experience_title: "Career Timeline",
        experience_intro: "Below, you can explore my professional journey interactively. The timeline is divided into two main phases: my established career in the technical and commercial area, and my current career in technology. Click on each role to expand and see the details and responsibilities. This visualization is designed to demonstrate the evolution and breadth of my skills over the years.",
        tech_career_title: "Career in Technology",
        commercial_career_title: "Technical & Commercial Career",
        skills_title: "Skills",
        skills_intro: "This section provides an overview of my technical and management skills. The chart below groups my competencies by area, providing a quick understanding of my strengths. It was created to visually illustrate the combination of software development knowledge with leadership and communication skills acquired throughout my career.",
        education_title: "Education & Courses",
        education_intro: "Here you will find my educational background, from fundamental technical courses to the most recent specializations in web development and design. The training is organized into two categories to facilitate the visualization of my commitment to continuous learning and adaptation to new technologies.",
        dev_courses_title: "Development & Design (2021 - 2024)",
        tech_courses_title: "Technical Courses (2004 - 2005)",
        contact_title: "Contact",
        contact_intro: "Liked what you saw? I would be happy to connect and discuss how my skills and experience can add value to your team or project. Use one of the channels below to get in touch.",
        tech_experience: [
            { role: 'Frontend Developer', company: 'MM Tecnologia', period: 'March 2024 – Present', details: ['Development and maintenance of user interfaces with React and Tailwind CSS.', 'Implementation of reusable components and performance optimization.', 'Consumption of RESTful APIs for backend integration.'] },
            { role: 'Quality Assurance / Frontend Developer', company: 'Joyjet Digital Marketing and Tech Agency', period: 'June 2021 – May 2024', details: ['Worked in system quality control and frontend development.'] }
        ],
        commercial_experience: [
            { role: 'Parts Sales and Customer Service', company: 'Silcar', period: 'March 2018 – March 2021', details: [] },
            { role: 'Supervisor', company: 'Flank Steak Burguer', period: 'June 2017 – December 2017', details: ['Responsible for supervising delivery, logistics, cashier, inventory, and purchasing.'] },
            { role: 'Parts Consultant', company: 'Newsedan - Mercedes Bens', period: 'August 2015 – March 2017', details: ['Worked as a parts consultant, stockist, and buyer.'] },
            { role: 'Technical Consultant / Workshop Manager', company: 'Champion Volvo', period: 'September 2012 – May 2015', details: ['Responsible for technical consulting, inventory management, workshop supervision, purchasing, and warranty claims.'] },
            { role: 'Technical Consultant', company: 'Brava Motos', period: 'May 2011 – May 2012', details: ['Worked as a technical consultant and stockist.'] },
            { role: 'Distributor / Customer Relations', company: 'Limpáx', period: 'July 2010 – April 2011 & March 2009 – October 2009', details: ['Product distribution, customer contact, and account management.'] },
            { role: 'Maintenance Technician', company: 'Fort Segurança', period: 'March 2010 – May 2010', details: ['Assembly, maintenance, and monitoring of computers.'] },
            { role: 'Network Administrator / Maintenance', company: 'Center Line', period: 'December 2009 – February 2010', details: ['Computer maintenance and network administration.'] },
            { role: 'Telemarketing Operator / Quality Control', company: 'Contax', period: 'January 2008 – January 2009', details: ['Worked as a telemarketing operator, retention agent, and in quality control.'] }
        ],
        chart_labels: ['Frontend', 'Technical', 'Management & Sales', 'Tools'],
        chart_tooltip_skills: {
            'Frontend': 'HTML, CSS, JS, React',
            'Technical': 'Consulting, QA, Hardware, Networks',
            'Management & Sales': 'Leadership, Customer Service',
            'Tools': 'English, Office Suite'
        }
    }
};

let currentChart = null;

function renderContent(lang) {
    const content = i18n[lang];

    document.querySelectorAll('[data-key]').forEach(elem => {
        const key = elem.getAttribute('data-key');
        if (content[key]) {
            elem.innerHTML = content[key];
        }
    });

    renderTimeline('tech-experience', content.tech_experience, 'amber');
    renderTimeline('commercial-experience', content.commercial_experience, 'slate');
    renderChart(lang);

    document.getElementById('lang-pt').classList.toggle('active', lang === 'pt');
    document.getElementById('lang-en').classList.toggle('active', lang === 'en');
}

function renderTimeline(containerId, experienceData, color) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';
    experienceData.forEach(job => {
        const detailsList = job.details.length > 0 ? `<ul class="list-disc pl-5 mt-4 text-slate-600 space-y-1">${job.details.map(d => `<li>${d}</li>`).join('')}</ul>` : '';
        const itemHTML = `
                    <div class="timeline-item mb-8">
                        <div class="flex items-center">
                            <div class="absolute -left-2.5 w-5 h-5 bg-${color}-500 rounded-full border-4 border-white"></div>
                            <div class="pl-8 w-full">
                                <div class="cursor-pointer p-4 bg-white rounded-lg shadow hover:shadow-xl transition-shadow" onclick="toggleDetails(this)">
                                    <p class="font-bold text-lg text-slate-800">${job.role}</p>
                                    <p class="text-sm text-slate-500">${job.company} | ${job.period}</p>
                                    <div class="timeline-item-content">${detailsList}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
        container.innerHTML += itemHTML;
    });
}

function renderChart(lang) {
    if (currentChart) {
        currentChart.destroy();
    }
    const content = i18n[lang];
    const ctx = document.getElementById('skillsChart').getContext('2d');
    currentChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: content.chart_labels,
            datasets: [{
                label: 'Nível de Competência',
                data: [90, 85, 95, 80],
                backgroundColor: [
                    'rgba(245, 158, 11, 0.6)', 'rgba(100, 116, 139, 0.6)',
                    'rgba(100, 116, 139, 0.6)', 'rgba(100, 116, 139, 0.6)'
                ],
                borderColor: [
                    'rgba(245, 158, 11, 1)', 'rgba(100, 116, 139, 1)',
                    'rgba(100, 116, 139, 1)', 'rgba(100, 116, 139, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y', responsive: true, maintainAspectRatio: false,
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: {
                        label: function (context) {
                            const label = context.label || '';
                            const skills = content.chart_tooltip_skills[label] || '';
                            return `${label}: ${skills}`;
                        }
                    }
                }
            },
            scales: {
                x: { beginAtZero: true, grid: { display: false }, ticks: { display: false } },
                y: { grid: { display: false }, ticks: { font: { size: 14, weight: 'bold' } } }
            }
        }
    });
}

document.addEventListener('DOMContentLoaded', function () {
    renderContent('pt');

    document.getElementById('lang-pt').addEventListener('click', () => renderContent('pt'));
    document.getElementById('lang-en').addEventListener('click', () => renderContent('en'));

    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('.nav-link');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, { rootMargin: '-30% 0px -70% 0px' });
    sections.forEach(section => observer.observe(section));

    // Lógica do menu mobile
    const menuBtn = document.getElementById('menu-btn');
    const sidebar = document.getElementById('sidebar');
    menuBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        sidebar.classList.toggle('mobile-nav');
        sidebar.classList.toggle('open');
    });

    // Fecha o menu ao clicar em um link
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            if (sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
                sidebar.classList.add('mobile-nav');
            }
        });
    });

    // Fecha o menu ao clicar fora dele
    document.addEventListener('click', (e) => {
        if (sidebar.classList.contains('open') && !sidebar.contains(e.target)) {
            sidebar.classList.remove('open');
            sidebar.classList.add('mobile-nav');
        }
    });
});

function toggleDetails(element) {
    const content = element.querySelector('.timeline-item-content');
    content.classList.toggle('open');
    if (content.classList.contains('open')) {
        content.style.padding = '1rem';
    } else {
        content.style.padding = '0';
    }
}
